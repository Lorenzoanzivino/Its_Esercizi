Operazioni ausiliari
sovrapposti(i1 : Data, f1 : Data, i2 : Data, f2 : Data) : Booleano:
- precondizioni:
    - deve essere vero che i1 <= f1 e che i2 <= f2

- postcondizioni:
    - L'operazione non modifica il livello estensionale
    - result = true se i1 <= f2 oppure i2 <= f1 altrimenti false


Specifica della classe Persona:
[V.Paziente.non_ricovero_se_stesso] Un paziente non può occuparsi del ricovero di se stesso:
Per ogni pers:Persona, non deve esistere un ric:Ricovero tale che:
- sia med:Medico, tale che (ric, med):ric_med e che med = pers
- sia paz:Interno, tale che (paz, ric):paz_ric e che paz = pers


[V.Paziente.non_prestazione_a_se_stesso] Un paziente non può eseguire una prestazione a se stesso:
Per ogni pers:Persona, non deve esistere una prest:Prestazione tale che:
- sia med:Medico, tale che (prest, med):prest_med e che med = pers
- e che sia paz:Esterno, tale che (paz, ric):paz_ric e che paz = pers


Specifica della classe Paziente:
[V.Paziente.non_ricoverato_piu_volte_stessa_data] Un paziente non può essere ricoverato un'altra volta mentre è già ricoverato
Per ogni p:Interno, sia R l'insieme di tutti i r:Ricovero, tali che (p, r):paz_ric.
Non devono esistere r' e r'' tali che r' != r'' e che sovrapposti(r'.data_ricovero, r'.data_dimiss, r''.data_ricovero, r''.data_dimiss)




Specifica della classe Ricovero:
[V.Ricovero.data_valida] La data di ricovero deve venire prima della data di dimissione
Per ogni r:Ricovero, deve essere vero che r.data_ricovero <= r.data_dimiss



Specifica della classe PostoLetto:
[V.PostoLetto.posto_letto_non_occupato] due ricoveri non possono esser fatti sullo stesso posto letto alla stessa data
Per ogni pl:PostoLetto, sia R l'insieme di tutti i r:Ricovero, tali che (r, pl):ric_pl.
Non devono esistere r' e r'' tali che r' != r'' e che sovrapposti(r'.data_ricovero, r'.data_dimiss, r''.data_ricovero, r''.data_dimiss)


disponibili(d : Data) : PostoLetto[0..*]:
- precondizioni:
    - Nessuna

- postcondizioni:
    - L'operazione non modifica il livello estensionale
    - Sia PL l'insieme di tutti i pl:PostoLetto, tali che:
        - Sia R l'insieme di tutti i r:Ricovero tali che (r, pl):ric_pl
        - Non esista un r in R tale che sovrapposti(r.data_ricovero, r.data_dimiss, d, d)
    - result = PL



Specifica della classe Prestazione:
[V.Prestazione.medico_ha_specializzazione_richiesta] Il medico deve avere la specializzazione richiesta dalla prestazione
Per ogni prest:Prestazione, sia med:Medico tale che (prest, med):prest_med e sia spec:Specializzazione tale che (prest, spec):prest_spec,
deve esistere il link (spec, med):spec_primaria o il link (spec, med):spec_secondaria



Specifica della classe Medico:
[V.Medico.specializzazione_medico_coerenti] Il medico non può avere una specializzazione sia come secondaria che come primaria
Per ogni med:Medico, non deve esistere una spec:Specializzazione tale che esistono entrambi i link (med, spec):spec_primaria e (med, spec):spec_secondaria